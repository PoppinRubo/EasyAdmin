<!DOCTYPE html>
<html>

<head>
    {include file="global.php" title="模块列表"/}
</head>

<body class="admin-body">
    <div class="layui-fluid">
        <div class="layui-card">
            <div class="layui-form layui-card-header admin-card-header-auto">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <div class="layui-input-inline admin-input-comm">
                            <input type="text" name="content" placeholder="请输入编号、模块名" autocomplete="off" class="layui-input">
                        </div>
                        <button class="layui-btn admin-btn-comm" data-type="reload" lay-submit>
                            <i class="layui-icon icon-search admin-button-btn"></i>搜索
                        </button>
                    </div>
                </div>
            </div>
            <div class="layui-card-body admin-table-body">
                <table id="data-table" lay-filter="data-table"></table>
            </div>
        </div>
    </div>
    <script src="/static/layui/layui.js"></script>
    <!--表格工具条-->
    <script type="text/html" id="toolbar">
        <div class="layui-btn-container">
            <button class="layui-btn layui-btn-sm" lay-event="getCheckData">
                <i class="layui-icon layui-icon-add-1"></i> 添加
            </button>
            <button class="layui-btn layui-btn-sm" lay-event="getCheckData">
                <i class="layui-icon layui-icon-edit"></i> 编辑
            </button>
            <button class="layui-btn layui-btn-sm" lay-event="getCheckData">
                <i class="layui-icon layui-icon-delete"></i> 删除
            </button>
        </div>
    </script>
    <script>
        var tableId = "data-table";
        //数据表格
        layui.use('table', function() {
            var table = layui.table;
            //表格渲染
            table.render({
                elem: '#' + tableId,
                height: tableHelper.setHeight(tableId),
                url: '/module/getModuleList', //数据接口
                toolbar: '#toolbar', //表格工具条
                page: true, //开启分页
                cols: [
                    [ //表头
                        {
                            type: 'radio'
                        }, {
                            field: 'id',
                            title: '编号',
                            width: 80,
                            sort: true,
                            align: 'center'
                        }, {
                            field: 'name',
                            title: '模块名',
                            width: 120,
                            align: 'center'
                        }, {
                            field: 'link',
                            title: '链接',
                            width: 120,
                            align: 'left'
                        }, {
                            field: 'sort',
                            title: '排序',
                            width: 80,
                            align: 'center'
                        }
                    ]
                ]
            });
            //头工具栏事件
            table.on('toolbar(' + tableId + ')', function(obj) {
                switch (obj.event) {

                };
            });
            //监听行单击事件
            table.on('row(' + tableId + ')', function(obj) {
                var data = obj.data;
                //行选设置
                tableHelper.choose(obj.tr);
            });
            //监听行双击事件
            table.on('rowDouble(' + tableId + ')', function(obj) {

            });
        });
    </script>
</body>

</html>